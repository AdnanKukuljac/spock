usePlugin("groovy")
sourceCompatibility = 1.5
targetCompatibility = 1.5

compileGroovy.options.fork = false
compileTestGroovy.options.fork = false

project(":spock-unitils") {
  repositories {
    mavenCentral()
  }
  
  dependencies {  
    groovy groovyArtifact
    compile project(":spock-core")
    compile "org.unitils:unitils-core:3.1"

    // the following are transitive deps of unitils-core with scope compile
    // nevertheless, if we don't specify them explicitely, groovyc crashes with
    // NoClassDefFoundError at org.codehaus.groovy.vmplugin.v5.Java5.configureClassNode(Java5.java:285)
    compile "commons-collections:commons-collections:3.2"
    compile "ognl:ognl:2.6.9"

    testCompile "org.unitils:unitils-dbunit:3.1"
    testCompile "org.unitils:unitils-database:3.1"
    testRuntime "com.h2database:h2:1.2.123"
    testRuntime "log4j:log4j:1.2.14"
  }
}
